SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;


DROP TABLE IF EXISTS `characters`;
CREATE TABLE IF NOT EXISTS `characters` (
  `lodestone_id` int(32) NOT NULL,
  `name` varchar(64) NOT NULL,
  `server` varchar(32) NOT NULL,
  `avatar` varchar(256) NOT NULL,
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT 'added to xivsync',
  `last_updated` timestamp NULL DEFAULT NULL COMMENT 'last auto updated',
  `last_synced` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `data_last_changed` timestamp NULL DEFAULT NULL COMMENT 'time sha1 was generated',
  `data_hash` varchar(100) NOT NULL COMMENT 'sha1 of data',
  `update_count` int(32) NOT NULL DEFAULT '1',
  `achievements_last_updated` timestamp NULL DEFAULT NULL,
  `achievements_last_changed` timestamp NULL DEFAULT NULL COMMENT 'time when achievements last changed',
  `achievements_public` tinyint(1) DEFAULT '1',
  `achievements_score_reborn` int(8) NOT NULL COMMENT 'reborn only achievements',
  `achievements_score_legacy` int(8) NOT NULL DEFAULT '0' COMMENT 'legacy only achievements',
  `achievements_score_reborn_total` int(11) NOT NULL,
  `achievements_score_legacy_total` int(11) NOT NULL,
  `deleted` varchar(1) NOT NULL DEFAULT '0',
  `patch` int(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`lodestone_id`),
  UNIQUE KEY `data_hash` (`data_hash`),
  KEY `added` (`added`),
  KEY `last_updated` (`last_updated`),
  KEY `last_synced` (`last_synced`),
  KEY `data_last_changed` (`data_last_changed`),
  KEY `name` (`name`),
  KEY `server` (`server`),
  KEY `achievements_last_updated` (`achievements_last_updated`),
  KEY `achievements_last_changed` (`achievements_last_changed`),
  KEY `achievements_public` (`achievements_public`),
  KEY `achievements_score_reborn` (`achievements_score_reborn`),
  KEY `achievements_score_legacy` (`achievements_score_legacy`),
  KEY `achievements_score_reborn_total` (`achievements_score_reborn_total`),
  KEY `achievements_score_legacy_total` (`achievements_score_legacy_total`),
  KEY `deleted` (`deleted`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `characters_achievements_list`;
CREATE TABLE IF NOT EXISTS `characters_achievements_list` (
  `lodestone_id` int(32) NOT NULL,
  `server` varchar(32) NOT NULL,
  `achievement_id` int(12) NOT NULL,
  `obtained` timestamp NULL DEFAULT NULL,
  `points` int(3) NOT NULL,
  UNIQUE KEY `unique` (`lodestone_id`,`achievement_id`),
  KEY `data` (`obtained`,`points`),
  KEY `server` (`server`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `characters_achievements_possible`;
CREATE TABLE IF NOT EXISTS `characters_achievements_possible` (
  `lodestone_id` int(32) NOT NULL,
  `last_updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `possible` text NOT NULL,
  UNIQUE KEY `lodestone_id` (`lodestone_id`),
  KEY `last_updated` (`last_updated`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `characters_data`;
CREATE TABLE IF NOT EXISTS `characters_data` (
  `lodestone_id` int(32) NOT NULL,
  `data` text NOT NULL,
  `data_gc` varchar(1024) DEFAULT NULL,
  `updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`lodestone_id`),
  KEY `updated` (`updated`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `characters_events_exp_new`;
CREATE TABLE IF NOT EXISTS `characters_events_exp_new` (
  `lodestone_id` int(32) NOT NULL,
  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `jobclass` smallint(3) NOT NULL,
  `gained` int(16) NOT NULL,
  `old` int(16) NOT NULL,
  `new` int(16) NOT NULL,
  UNIQUE KEY `unique` (`lodestone_id`,`time`,`jobclass`),
  KEY `time` (`time`),
  KEY `jobclass` (`jobclass`),
  KEY `lodestone_id` (`lodestone_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
PARTITION BY RANGE (lodestone_id)
(
PARTITION p0 VALUES LESS THAN (250000) ENGINE=InnoDB,
PARTITION p1 VALUES LESS THAN (500000) ENGINE=InnoDB,
PARTITION p2 VALUES LESS THAN (750000) ENGINE=InnoDB,
PARTITION p3 VALUES LESS THAN (1000000) ENGINE=InnoDB,
PARTITION p4 VALUES LESS THAN (1250000) ENGINE=InnoDB,
PARTITION p5 VALUES LESS THAN (1500000) ENGINE=InnoDB,
PARTITION p6 VALUES LESS THAN (1750000) ENGINE=InnoDB,
PARTITION p7 VALUES LESS THAN (2000000) ENGINE=InnoDB,
PARTITION p8 VALUES LESS THAN (2250000) ENGINE=InnoDB,
PARTITION p9 VALUES LESS THAN (2500000) ENGINE=InnoDB,
PARTITION p10 VALUES LESS THAN (2750000) ENGINE=InnoDB,
PARTITION p11 VALUES LESS THAN (3000000) ENGINE=InnoDB,
PARTITION p12 VALUES LESS THAN (3250000) ENGINE=InnoDB,
PARTITION p13 VALUES LESS THAN (3500000) ENGINE=InnoDB,
PARTITION p14 VALUES LESS THAN (3750000) ENGINE=InnoDB,
PARTITION p15 VALUES LESS THAN (4000000) ENGINE=InnoDB,
PARTITION p16 VALUES LESS THAN (4250000) ENGINE=InnoDB,
PARTITION p17 VALUES LESS THAN (4500000) ENGINE=InnoDB,
PARTITION p18 VALUES LESS THAN (4750000) ENGINE=InnoDB,
PARTITION p19 VALUES LESS THAN (5000000) ENGINE=InnoDB,
PARTITION p20 VALUES LESS THAN (5250000) ENGINE=InnoDB,
PARTITION p21 VALUES LESS THAN (5500000) ENGINE=InnoDB,
PARTITION p22 VALUES LESS THAN (5750000) ENGINE=InnoDB,
PARTITION p23 VALUES LESS THAN (6000000) ENGINE=InnoDB,
PARTITION p24 VALUES LESS THAN (6250000) ENGINE=InnoDB,
PARTITION p25 VALUES LESS THAN (6500000) ENGINE=InnoDB,
PARTITION p26 VALUES LESS THAN (6750000) ENGINE=InnoDB,
PARTITION p27 VALUES LESS THAN (7000000) ENGINE=InnoDB,
PARTITION p28 VALUES LESS THAN (7250000) ENGINE=InnoDB,
PARTITION p29 VALUES LESS THAN (7500000) ENGINE=InnoDB,
PARTITION p30 VALUES LESS THAN (7750000) ENGINE=InnoDB,
PARTITION p31 VALUES LESS THAN (8000000) ENGINE=InnoDB,
PARTITION p32 VALUES LESS THAN (8250000) ENGINE=InnoDB,
PARTITION p33 VALUES LESS THAN (8500000) ENGINE=InnoDB,
PARTITION p34 VALUES LESS THAN (8750000) ENGINE=InnoDB,
PARTITION p35 VALUES LESS THAN (9000000) ENGINE=InnoDB,
PARTITION p36 VALUES LESS THAN (9250000) ENGINE=InnoDB,
PARTITION p37 VALUES LESS THAN (9500000) ENGINE=InnoDB,
PARTITION p38 VALUES LESS THAN (9750000) ENGINE=InnoDB,
PARTITION p39 VALUES LESS THAN (10000000) ENGINE=InnoDB,
PARTITION p40 VALUES LESS THAN (10250000) ENGINE=InnoDB,
PARTITION p41 VALUES LESS THAN (10500000) ENGINE=InnoDB,
PARTITION p42 VALUES LESS THAN (10750000) ENGINE=InnoDB,
PARTITION p43 VALUES LESS THAN (11000000) ENGINE=InnoDB,
PARTITION p44 VALUES LESS THAN (11250000) ENGINE=InnoDB,
PARTITION p45 VALUES LESS THAN (11500000) ENGINE=InnoDB,
PARTITION p46 VALUES LESS THAN (11750000) ENGINE=InnoDB,
PARTITION p47 VALUES LESS THAN (12000000) ENGINE=InnoDB,
PARTITION p48 VALUES LESS THAN (12250000) ENGINE=InnoDB,
PARTITION p49 VALUES LESS THAN (12500000) ENGINE=InnoDB,
PARTITION p50 VALUES LESS THAN (12750000) ENGINE=InnoDB,
PARTITION p51 VALUES LESS THAN (13000000) ENGINE=InnoDB,
PARTITION p52 VALUES LESS THAN (13250000) ENGINE=InnoDB,
PARTITION p53 VALUES LESS THAN (13500000) ENGINE=InnoDB,
PARTITION p54 VALUES LESS THAN (13750000) ENGINE=InnoDB,
PARTITION p55 VALUES LESS THAN (14000000) ENGINE=InnoDB,
PARTITION p56 VALUES LESS THAN (14250000) ENGINE=InnoDB,
PARTITION p57 VALUES LESS THAN (14500000) ENGINE=InnoDB,
PARTITION p58 VALUES LESS THAN (14750000) ENGINE=InnoDB,
PARTITION p59 VALUES LESS THAN (15000000) ENGINE=InnoDB,
PARTITION p60 VALUES LESS THAN (15250000) ENGINE=InnoDB,
PARTITION p61 VALUES LESS THAN (15500000) ENGINE=InnoDB,
PARTITION p62 VALUES LESS THAN (15750000) ENGINE=InnoDB,
PARTITION p63 VALUES LESS THAN (16000000) ENGINE=InnoDB,
PARTITION p64 VALUES LESS THAN (16250000) ENGINE=InnoDB,
PARTITION p65 VALUES LESS THAN (16500000) ENGINE=InnoDB,
PARTITION p66 VALUES LESS THAN (16750000) ENGINE=InnoDB,
PARTITION p67 VALUES LESS THAN (17000000) ENGINE=InnoDB,
PARTITION p68 VALUES LESS THAN (17250000) ENGINE=InnoDB,
PARTITION p69 VALUES LESS THAN (17500000) ENGINE=InnoDB,
PARTITION p70 VALUES LESS THAN (17750000) ENGINE=InnoDB,
PARTITION p71 VALUES LESS THAN (18000000) ENGINE=InnoDB,
PARTITION p72 VALUES LESS THAN (18250000) ENGINE=InnoDB,
PARTITION p73 VALUES LESS THAN (18500000) ENGINE=InnoDB,
PARTITION p74 VALUES LESS THAN (18750000) ENGINE=InnoDB,
PARTITION p75 VALUES LESS THAN (19000000) ENGINE=InnoDB,
PARTITION p76 VALUES LESS THAN (19250000) ENGINE=InnoDB,
PARTITION p77 VALUES LESS THAN (19500000) ENGINE=InnoDB,
PARTITION p78 VALUES LESS THAN (19750000) ENGINE=InnoDB,
PARTITION p79 VALUES LESS THAN (20000000) ENGINE=InnoDB,
PARTITION p80 VALUES LESS THAN (20250000) ENGINE=InnoDB,
PARTITION p81 VALUES LESS THAN (20500000) ENGINE=InnoDB,
PARTITION p82 VALUES LESS THAN (20750000) ENGINE=InnoDB,
PARTITION p83 VALUES LESS THAN (21000000) ENGINE=InnoDB,
PARTITION p84 VALUES LESS THAN (21250000) ENGINE=InnoDB,
PARTITION p85 VALUES LESS THAN (21500000) ENGINE=InnoDB,
PARTITION p86 VALUES LESS THAN (21750000) ENGINE=InnoDB,
PARTITION p87 VALUES LESS THAN (22000000) ENGINE=InnoDB,
PARTITION p88 VALUES LESS THAN (22250000) ENGINE=InnoDB,
PARTITION p89 VALUES LESS THAN (22500000) ENGINE=InnoDB,
PARTITION p90 VALUES LESS THAN (22750000) ENGINE=InnoDB,
PARTITION p91 VALUES LESS THAN (23000000) ENGINE=InnoDB,
PARTITION p92 VALUES LESS THAN (23250000) ENGINE=InnoDB,
PARTITION p93 VALUES LESS THAN (23500000) ENGINE=InnoDB,
PARTITION p94 VALUES LESS THAN (23750000) ENGINE=InnoDB,
PARTITION p95 VALUES LESS THAN (24000000) ENGINE=InnoDB,
PARTITION p96 VALUES LESS THAN (24250000) ENGINE=InnoDB,
PARTITION p97 VALUES LESS THAN (24500000) ENGINE=InnoDB,
PARTITION p98 VALUES LESS THAN (24750000) ENGINE=InnoDB,
PARTITION p99 VALUES LESS THAN (25000000) ENGINE=InnoDB,
PARTITION p100 VALUES LESS THAN (25250000) ENGINE=InnoDB,
PARTITION p101 VALUES LESS THAN (25500000) ENGINE=InnoDB,
PARTITION p102 VALUES LESS THAN (25750000) ENGINE=InnoDB,
PARTITION p103 VALUES LESS THAN (26000000) ENGINE=InnoDB,
PARTITION p104 VALUES LESS THAN (26250000) ENGINE=InnoDB,
PARTITION p105 VALUES LESS THAN (26500000) ENGINE=InnoDB,
PARTITION p106 VALUES LESS THAN (26750000) ENGINE=InnoDB,
PARTITION p107 VALUES LESS THAN (27000000) ENGINE=InnoDB,
PARTITION p108 VALUES LESS THAN (27250000) ENGINE=InnoDB,
PARTITION p109 VALUES LESS THAN (27500000) ENGINE=InnoDB,
PARTITION p110 VALUES LESS THAN (27750000) ENGINE=InnoDB,
PARTITION p111 VALUES LESS THAN (28000000) ENGINE=InnoDB,
PARTITION p112 VALUES LESS THAN (28250000) ENGINE=InnoDB,
PARTITION p113 VALUES LESS THAN (28500000) ENGINE=InnoDB,
PARTITION p114 VALUES LESS THAN (28750000) ENGINE=InnoDB,
PARTITION p115 VALUES LESS THAN (29000000) ENGINE=InnoDB,
PARTITION p116 VALUES LESS THAN (29250000) ENGINE=InnoDB,
PARTITION p117 VALUES LESS THAN (29500000) ENGINE=InnoDB,
PARTITION p118 VALUES LESS THAN (29750000) ENGINE=InnoDB,
PARTITION p119 VALUES LESS THAN (30000000) ENGINE=InnoDB,
PARTITION p120 VALUES LESS THAN (30250000) ENGINE=InnoDB,
PARTITION p121 VALUES LESS THAN (30500000) ENGINE=InnoDB,
PARTITION p122 VALUES LESS THAN (30750000) ENGINE=InnoDB,
PARTITION p123 VALUES LESS THAN (31000000) ENGINE=InnoDB,
PARTITION p124 VALUES LESS THAN (31250000) ENGINE=InnoDB,
PARTITION p125 VALUES LESS THAN (31500000) ENGINE=InnoDB,
PARTITION p126 VALUES LESS THAN (31750000) ENGINE=InnoDB,
PARTITION p127 VALUES LESS THAN (32000000) ENGINE=InnoDB,
PARTITION p128 VALUES LESS THAN (32250000) ENGINE=InnoDB,
PARTITION p129 VALUES LESS THAN (32500000) ENGINE=InnoDB,
PARTITION p130 VALUES LESS THAN (32750000) ENGINE=InnoDB,
PARTITION p131 VALUES LESS THAN (33000000) ENGINE=InnoDB,
PARTITION p132 VALUES LESS THAN (33250000) ENGINE=InnoDB,
PARTITION p133 VALUES LESS THAN (33500000) ENGINE=InnoDB,
PARTITION p134 VALUES LESS THAN (33750000) ENGINE=InnoDB,
PARTITION p135 VALUES LESS THAN (34000000) ENGINE=InnoDB,
PARTITION p136 VALUES LESS THAN (34250000) ENGINE=InnoDB,
PARTITION p137 VALUES LESS THAN (34500000) ENGINE=InnoDB,
PARTITION p138 VALUES LESS THAN (34750000) ENGINE=InnoDB,
PARTITION p139 VALUES LESS THAN (35000000) ENGINE=InnoDB,
PARTITION p140 VALUES LESS THAN (35250000) ENGINE=InnoDB,
PARTITION p141 VALUES LESS THAN (35500000) ENGINE=InnoDB,
PARTITION p142 VALUES LESS THAN (35750000) ENGINE=InnoDB,
PARTITION p143 VALUES LESS THAN (36000000) ENGINE=InnoDB,
PARTITION p144 VALUES LESS THAN (36250000) ENGINE=InnoDB,
PARTITION p145 VALUES LESS THAN (36500000) ENGINE=InnoDB,
PARTITION p146 VALUES LESS THAN (36750000) ENGINE=InnoDB,
PARTITION p147 VALUES LESS THAN (37000000) ENGINE=InnoDB,
PARTITION p148 VALUES LESS THAN (37250000) ENGINE=InnoDB,
PARTITION p149 VALUES LESS THAN (37500000) ENGINE=InnoDB,
PARTITION p150 VALUES LESS THAN (37750000) ENGINE=InnoDB,
PARTITION p151 VALUES LESS THAN (38000000) ENGINE=InnoDB,
PARTITION p152 VALUES LESS THAN (38250000) ENGINE=InnoDB,
PARTITION p153 VALUES LESS THAN (38500000) ENGINE=InnoDB,
PARTITION p154 VALUES LESS THAN (38750000) ENGINE=InnoDB,
PARTITION p155 VALUES LESS THAN (39000000) ENGINE=InnoDB,
PARTITION p156 VALUES LESS THAN (39250000) ENGINE=InnoDB,
PARTITION p157 VALUES LESS THAN (39500000) ENGINE=InnoDB,
PARTITION p158 VALUES LESS THAN (39750000) ENGINE=InnoDB,
PARTITION p159 VALUES LESS THAN (40000000) ENGINE=InnoDB,
PARTITION p160 VALUES LESS THAN (40250000) ENGINE=InnoDB,
PARTITION p161 VALUES LESS THAN (40500000) ENGINE=InnoDB,
PARTITION p162 VALUES LESS THAN (40750000) ENGINE=InnoDB,
PARTITION p163 VALUES LESS THAN (41000000) ENGINE=InnoDB,
PARTITION p164 VALUES LESS THAN (41250000) ENGINE=InnoDB,
PARTITION p165 VALUES LESS THAN (41500000) ENGINE=InnoDB,
PARTITION p166 VALUES LESS THAN (41750000) ENGINE=InnoDB,
PARTITION p167 VALUES LESS THAN (42000000) ENGINE=InnoDB,
PARTITION p168 VALUES LESS THAN (42250000) ENGINE=InnoDB,
PARTITION p169 VALUES LESS THAN (42500000) ENGINE=InnoDB,
PARTITION p170 VALUES LESS THAN (42750000) ENGINE=InnoDB,
PARTITION p171 VALUES LESS THAN (43000000) ENGINE=InnoDB,
PARTITION p172 VALUES LESS THAN (43250000) ENGINE=InnoDB,
PARTITION p173 VALUES LESS THAN (43500000) ENGINE=InnoDB,
PARTITION p174 VALUES LESS THAN (43750000) ENGINE=InnoDB,
PARTITION p175 VALUES LESS THAN (44000000) ENGINE=InnoDB,
PARTITION p176 VALUES LESS THAN (44250000) ENGINE=InnoDB,
PARTITION p177 VALUES LESS THAN (44500000) ENGINE=InnoDB,
PARTITION p178 VALUES LESS THAN (44750000) ENGINE=InnoDB,
PARTITION p179 VALUES LESS THAN (45000000) ENGINE=InnoDB,
PARTITION p180 VALUES LESS THAN (45250000) ENGINE=InnoDB,
PARTITION p181 VALUES LESS THAN (45500000) ENGINE=InnoDB,
PARTITION p182 VALUES LESS THAN (45750000) ENGINE=InnoDB,
PARTITION p183 VALUES LESS THAN (46000000) ENGINE=InnoDB,
PARTITION p184 VALUES LESS THAN (46250000) ENGINE=InnoDB,
PARTITION p185 VALUES LESS THAN (46500000) ENGINE=InnoDB,
PARTITION p186 VALUES LESS THAN (46750000) ENGINE=InnoDB,
PARTITION p187 VALUES LESS THAN (47000000) ENGINE=InnoDB,
PARTITION p188 VALUES LESS THAN (47250000) ENGINE=InnoDB,
PARTITION p189 VALUES LESS THAN (47500000) ENGINE=InnoDB,
PARTITION p190 VALUES LESS THAN (47750000) ENGINE=InnoDB,
PARTITION p191 VALUES LESS THAN (48000000) ENGINE=InnoDB,
PARTITION p192 VALUES LESS THAN (48250000) ENGINE=InnoDB,
PARTITION p193 VALUES LESS THAN (48500000) ENGINE=InnoDB,
PARTITION p194 VALUES LESS THAN (48750000) ENGINE=InnoDB,
PARTITION p195 VALUES LESS THAN (49000000) ENGINE=InnoDB,
PARTITION p196 VALUES LESS THAN (49250000) ENGINE=InnoDB,
PARTITION p197 VALUES LESS THAN (49500000) ENGINE=InnoDB,
PARTITION p198 VALUES LESS THAN (49750000) ENGINE=InnoDB,
PARTITION p199 VALUES LESS THAN (50000000) ENGINE=InnoDB,
PARTITION p200 VALUES LESS THAN MAXVALUE ENGINE=InnoDB
);

DROP TABLE IF EXISTS `characters_events_lvs_new`;
CREATE TABLE IF NOT EXISTS `characters_events_lvs_new` (
  `lodestone_id` int(32) NOT NULL,
  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `jobclass` smallint(3) NOT NULL,
  `gained` int(16) NOT NULL,
  `old` int(16) NOT NULL,
  `new` int(16) NOT NULL,
  UNIQUE KEY `unique` (`lodestone_id`,`time`,`jobclass`),
  KEY `time` (`time`),
  KEY `jobclass` (`jobclass`),
  KEY `lodestone_id` (`lodestone_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
PARTITION BY RANGE (lodestone_id)
(
PARTITION p0 VALUES LESS THAN (250000) ENGINE=InnoDB,
PARTITION p1 VALUES LESS THAN (500000) ENGINE=InnoDB,
PARTITION p2 VALUES LESS THAN (750000) ENGINE=InnoDB,
PARTITION p3 VALUES LESS THAN (1000000) ENGINE=InnoDB,
PARTITION p4 VALUES LESS THAN (1250000) ENGINE=InnoDB,
PARTITION p5 VALUES LESS THAN (1500000) ENGINE=InnoDB,
PARTITION p6 VALUES LESS THAN (1750000) ENGINE=InnoDB,
PARTITION p7 VALUES LESS THAN (2000000) ENGINE=InnoDB,
PARTITION p8 VALUES LESS THAN (2250000) ENGINE=InnoDB,
PARTITION p9 VALUES LESS THAN (2500000) ENGINE=InnoDB,
PARTITION p10 VALUES LESS THAN (2750000) ENGINE=InnoDB,
PARTITION p11 VALUES LESS THAN (3000000) ENGINE=InnoDB,
PARTITION p12 VALUES LESS THAN (3250000) ENGINE=InnoDB,
PARTITION p13 VALUES LESS THAN (3500000) ENGINE=InnoDB,
PARTITION p14 VALUES LESS THAN (3750000) ENGINE=InnoDB,
PARTITION p15 VALUES LESS THAN (4000000) ENGINE=InnoDB,
PARTITION p16 VALUES LESS THAN (4250000) ENGINE=InnoDB,
PARTITION p17 VALUES LESS THAN (4500000) ENGINE=InnoDB,
PARTITION p18 VALUES LESS THAN (4750000) ENGINE=InnoDB,
PARTITION p19 VALUES LESS THAN (5000000) ENGINE=InnoDB,
PARTITION p20 VALUES LESS THAN (5250000) ENGINE=InnoDB,
PARTITION p21 VALUES LESS THAN (5500000) ENGINE=InnoDB,
PARTITION p22 VALUES LESS THAN (5750000) ENGINE=InnoDB,
PARTITION p23 VALUES LESS THAN (6000000) ENGINE=InnoDB,
PARTITION p24 VALUES LESS THAN (6250000) ENGINE=InnoDB,
PARTITION p25 VALUES LESS THAN (6500000) ENGINE=InnoDB,
PARTITION p26 VALUES LESS THAN (6750000) ENGINE=InnoDB,
PARTITION p27 VALUES LESS THAN (7000000) ENGINE=InnoDB,
PARTITION p28 VALUES LESS THAN (7250000) ENGINE=InnoDB,
PARTITION p29 VALUES LESS THAN (7500000) ENGINE=InnoDB,
PARTITION p30 VALUES LESS THAN (7750000) ENGINE=InnoDB,
PARTITION p31 VALUES LESS THAN (8000000) ENGINE=InnoDB,
PARTITION p32 VALUES LESS THAN (8250000) ENGINE=InnoDB,
PARTITION p33 VALUES LESS THAN (8500000) ENGINE=InnoDB,
PARTITION p34 VALUES LESS THAN (8750000) ENGINE=InnoDB,
PARTITION p35 VALUES LESS THAN (9000000) ENGINE=InnoDB,
PARTITION p36 VALUES LESS THAN (9250000) ENGINE=InnoDB,
PARTITION p37 VALUES LESS THAN (9500000) ENGINE=InnoDB,
PARTITION p38 VALUES LESS THAN (9750000) ENGINE=InnoDB,
PARTITION p39 VALUES LESS THAN (10000000) ENGINE=InnoDB,
PARTITION p40 VALUES LESS THAN (10250000) ENGINE=InnoDB,
PARTITION p41 VALUES LESS THAN (10500000) ENGINE=InnoDB,
PARTITION p42 VALUES LESS THAN (10750000) ENGINE=InnoDB,
PARTITION p43 VALUES LESS THAN (11000000) ENGINE=InnoDB,
PARTITION p44 VALUES LESS THAN (11250000) ENGINE=InnoDB,
PARTITION p45 VALUES LESS THAN (11500000) ENGINE=InnoDB,
PARTITION p46 VALUES LESS THAN (11750000) ENGINE=InnoDB,
PARTITION p47 VALUES LESS THAN (12000000) ENGINE=InnoDB,
PARTITION p48 VALUES LESS THAN (12250000) ENGINE=InnoDB,
PARTITION p49 VALUES LESS THAN (12500000) ENGINE=InnoDB,
PARTITION p50 VALUES LESS THAN (12750000) ENGINE=InnoDB,
PARTITION p51 VALUES LESS THAN (13000000) ENGINE=InnoDB,
PARTITION p52 VALUES LESS THAN (13250000) ENGINE=InnoDB,
PARTITION p53 VALUES LESS THAN (13500000) ENGINE=InnoDB,
PARTITION p54 VALUES LESS THAN (13750000) ENGINE=InnoDB,
PARTITION p55 VALUES LESS THAN (14000000) ENGINE=InnoDB,
PARTITION p56 VALUES LESS THAN (14250000) ENGINE=InnoDB,
PARTITION p57 VALUES LESS THAN (14500000) ENGINE=InnoDB,
PARTITION p58 VALUES LESS THAN (14750000) ENGINE=InnoDB,
PARTITION p59 VALUES LESS THAN (15000000) ENGINE=InnoDB,
PARTITION p60 VALUES LESS THAN (15250000) ENGINE=InnoDB,
PARTITION p61 VALUES LESS THAN (15500000) ENGINE=InnoDB,
PARTITION p62 VALUES LESS THAN (15750000) ENGINE=InnoDB,
PARTITION p63 VALUES LESS THAN (16000000) ENGINE=InnoDB,
PARTITION p64 VALUES LESS THAN (16250000) ENGINE=InnoDB,
PARTITION p65 VALUES LESS THAN (16500000) ENGINE=InnoDB,
PARTITION p66 VALUES LESS THAN (16750000) ENGINE=InnoDB,
PARTITION p67 VALUES LESS THAN (17000000) ENGINE=InnoDB,
PARTITION p68 VALUES LESS THAN (17250000) ENGINE=InnoDB,
PARTITION p69 VALUES LESS THAN (17500000) ENGINE=InnoDB,
PARTITION p70 VALUES LESS THAN (17750000) ENGINE=InnoDB,
PARTITION p71 VALUES LESS THAN (18000000) ENGINE=InnoDB,
PARTITION p72 VALUES LESS THAN (18250000) ENGINE=InnoDB,
PARTITION p73 VALUES LESS THAN (18500000) ENGINE=InnoDB,
PARTITION p74 VALUES LESS THAN (18750000) ENGINE=InnoDB,
PARTITION p75 VALUES LESS THAN (19000000) ENGINE=InnoDB,
PARTITION p76 VALUES LESS THAN (19250000) ENGINE=InnoDB,
PARTITION p77 VALUES LESS THAN (19500000) ENGINE=InnoDB,
PARTITION p78 VALUES LESS THAN (19750000) ENGINE=InnoDB,
PARTITION p79 VALUES LESS THAN (20000000) ENGINE=InnoDB,
PARTITION p80 VALUES LESS THAN (20250000) ENGINE=InnoDB,
PARTITION p81 VALUES LESS THAN (20500000) ENGINE=InnoDB,
PARTITION p82 VALUES LESS THAN (20750000) ENGINE=InnoDB,
PARTITION p83 VALUES LESS THAN (21000000) ENGINE=InnoDB,
PARTITION p84 VALUES LESS THAN (21250000) ENGINE=InnoDB,
PARTITION p85 VALUES LESS THAN (21500000) ENGINE=InnoDB,
PARTITION p86 VALUES LESS THAN (21750000) ENGINE=InnoDB,
PARTITION p87 VALUES LESS THAN (22000000) ENGINE=InnoDB,
PARTITION p88 VALUES LESS THAN (22250000) ENGINE=InnoDB,
PARTITION p89 VALUES LESS THAN (22500000) ENGINE=InnoDB,
PARTITION p90 VALUES LESS THAN (22750000) ENGINE=InnoDB,
PARTITION p91 VALUES LESS THAN (23000000) ENGINE=InnoDB,
PARTITION p92 VALUES LESS THAN (23250000) ENGINE=InnoDB,
PARTITION p93 VALUES LESS THAN (23500000) ENGINE=InnoDB,
PARTITION p94 VALUES LESS THAN (23750000) ENGINE=InnoDB,
PARTITION p95 VALUES LESS THAN (24000000) ENGINE=InnoDB,
PARTITION p96 VALUES LESS THAN (24250000) ENGINE=InnoDB,
PARTITION p97 VALUES LESS THAN (24500000) ENGINE=InnoDB,
PARTITION p98 VALUES LESS THAN (24750000) ENGINE=InnoDB,
PARTITION p99 VALUES LESS THAN (25000000) ENGINE=InnoDB,
PARTITION p100 VALUES LESS THAN (25250000) ENGINE=InnoDB,
PARTITION p101 VALUES LESS THAN (25500000) ENGINE=InnoDB,
PARTITION p102 VALUES LESS THAN (25750000) ENGINE=InnoDB,
PARTITION p103 VALUES LESS THAN (26000000) ENGINE=InnoDB,
PARTITION p104 VALUES LESS THAN (26250000) ENGINE=InnoDB,
PARTITION p105 VALUES LESS THAN (26500000) ENGINE=InnoDB,
PARTITION p106 VALUES LESS THAN (26750000) ENGINE=InnoDB,
PARTITION p107 VALUES LESS THAN (27000000) ENGINE=InnoDB,
PARTITION p108 VALUES LESS THAN (27250000) ENGINE=InnoDB,
PARTITION p109 VALUES LESS THAN (27500000) ENGINE=InnoDB,
PARTITION p110 VALUES LESS THAN (27750000) ENGINE=InnoDB,
PARTITION p111 VALUES LESS THAN (28000000) ENGINE=InnoDB,
PARTITION p112 VALUES LESS THAN (28250000) ENGINE=InnoDB,
PARTITION p113 VALUES LESS THAN (28500000) ENGINE=InnoDB,
PARTITION p114 VALUES LESS THAN (28750000) ENGINE=InnoDB,
PARTITION p115 VALUES LESS THAN (29000000) ENGINE=InnoDB,
PARTITION p116 VALUES LESS THAN (29250000) ENGINE=InnoDB,
PARTITION p117 VALUES LESS THAN (29500000) ENGINE=InnoDB,
PARTITION p118 VALUES LESS THAN (29750000) ENGINE=InnoDB,
PARTITION p119 VALUES LESS THAN (30000000) ENGINE=InnoDB,
PARTITION p120 VALUES LESS THAN (30250000) ENGINE=InnoDB,
PARTITION p121 VALUES LESS THAN (30500000) ENGINE=InnoDB,
PARTITION p122 VALUES LESS THAN (30750000) ENGINE=InnoDB,
PARTITION p123 VALUES LESS THAN (31000000) ENGINE=InnoDB,
PARTITION p124 VALUES LESS THAN (31250000) ENGINE=InnoDB,
PARTITION p125 VALUES LESS THAN (31500000) ENGINE=InnoDB,
PARTITION p126 VALUES LESS THAN (31750000) ENGINE=InnoDB,
PARTITION p127 VALUES LESS THAN (32000000) ENGINE=InnoDB,
PARTITION p128 VALUES LESS THAN (32250000) ENGINE=InnoDB,
PARTITION p129 VALUES LESS THAN (32500000) ENGINE=InnoDB,
PARTITION p130 VALUES LESS THAN (32750000) ENGINE=InnoDB,
PARTITION p131 VALUES LESS THAN (33000000) ENGINE=InnoDB,
PARTITION p132 VALUES LESS THAN (33250000) ENGINE=InnoDB,
PARTITION p133 VALUES LESS THAN (33500000) ENGINE=InnoDB,
PARTITION p134 VALUES LESS THAN (33750000) ENGINE=InnoDB,
PARTITION p135 VALUES LESS THAN (34000000) ENGINE=InnoDB,
PARTITION p136 VALUES LESS THAN (34250000) ENGINE=InnoDB,
PARTITION p137 VALUES LESS THAN (34500000) ENGINE=InnoDB,
PARTITION p138 VALUES LESS THAN (34750000) ENGINE=InnoDB,
PARTITION p139 VALUES LESS THAN (35000000) ENGINE=InnoDB,
PARTITION p140 VALUES LESS THAN (35250000) ENGINE=InnoDB,
PARTITION p141 VALUES LESS THAN (35500000) ENGINE=InnoDB,
PARTITION p142 VALUES LESS THAN (35750000) ENGINE=InnoDB,
PARTITION p143 VALUES LESS THAN (36000000) ENGINE=InnoDB,
PARTITION p144 VALUES LESS THAN (36250000) ENGINE=InnoDB,
PARTITION p145 VALUES LESS THAN (36500000) ENGINE=InnoDB,
PARTITION p146 VALUES LESS THAN (36750000) ENGINE=InnoDB,
PARTITION p147 VALUES LESS THAN (37000000) ENGINE=InnoDB,
PARTITION p148 VALUES LESS THAN (37250000) ENGINE=InnoDB,
PARTITION p149 VALUES LESS THAN (37500000) ENGINE=InnoDB,
PARTITION p150 VALUES LESS THAN (37750000) ENGINE=InnoDB,
PARTITION p151 VALUES LESS THAN (38000000) ENGINE=InnoDB,
PARTITION p152 VALUES LESS THAN (38250000) ENGINE=InnoDB,
PARTITION p153 VALUES LESS THAN (38500000) ENGINE=InnoDB,
PARTITION p154 VALUES LESS THAN (38750000) ENGINE=InnoDB,
PARTITION p155 VALUES LESS THAN (39000000) ENGINE=InnoDB,
PARTITION p156 VALUES LESS THAN (39250000) ENGINE=InnoDB,
PARTITION p157 VALUES LESS THAN (39500000) ENGINE=InnoDB,
PARTITION p158 VALUES LESS THAN (39750000) ENGINE=InnoDB,
PARTITION p159 VALUES LESS THAN (40000000) ENGINE=InnoDB,
PARTITION p160 VALUES LESS THAN (40250000) ENGINE=InnoDB,
PARTITION p161 VALUES LESS THAN (40500000) ENGINE=InnoDB,
PARTITION p162 VALUES LESS THAN (40750000) ENGINE=InnoDB,
PARTITION p163 VALUES LESS THAN (41000000) ENGINE=InnoDB,
PARTITION p164 VALUES LESS THAN (41250000) ENGINE=InnoDB,
PARTITION p165 VALUES LESS THAN (41500000) ENGINE=InnoDB,
PARTITION p166 VALUES LESS THAN (41750000) ENGINE=InnoDB,
PARTITION p167 VALUES LESS THAN (42000000) ENGINE=InnoDB,
PARTITION p168 VALUES LESS THAN (42250000) ENGINE=InnoDB,
PARTITION p169 VALUES LESS THAN (42500000) ENGINE=InnoDB,
PARTITION p170 VALUES LESS THAN (42750000) ENGINE=InnoDB,
PARTITION p171 VALUES LESS THAN (43000000) ENGINE=InnoDB,
PARTITION p172 VALUES LESS THAN (43250000) ENGINE=InnoDB,
PARTITION p173 VALUES LESS THAN (43500000) ENGINE=InnoDB,
PARTITION p174 VALUES LESS THAN (43750000) ENGINE=InnoDB,
PARTITION p175 VALUES LESS THAN (44000000) ENGINE=InnoDB,
PARTITION p176 VALUES LESS THAN (44250000) ENGINE=InnoDB,
PARTITION p177 VALUES LESS THAN (44500000) ENGINE=InnoDB,
PARTITION p178 VALUES LESS THAN (44750000) ENGINE=InnoDB,
PARTITION p179 VALUES LESS THAN (45000000) ENGINE=InnoDB,
PARTITION p180 VALUES LESS THAN (45250000) ENGINE=InnoDB,
PARTITION p181 VALUES LESS THAN (45500000) ENGINE=InnoDB,
PARTITION p182 VALUES LESS THAN (45750000) ENGINE=InnoDB,
PARTITION p183 VALUES LESS THAN (46000000) ENGINE=InnoDB,
PARTITION p184 VALUES LESS THAN (46250000) ENGINE=InnoDB,
PARTITION p185 VALUES LESS THAN (46500000) ENGINE=InnoDB,
PARTITION p186 VALUES LESS THAN (46750000) ENGINE=InnoDB,
PARTITION p187 VALUES LESS THAN (47000000) ENGINE=InnoDB,
PARTITION p188 VALUES LESS THAN (47250000) ENGINE=InnoDB,
PARTITION p189 VALUES LESS THAN (47500000) ENGINE=InnoDB,
PARTITION p190 VALUES LESS THAN (47750000) ENGINE=InnoDB,
PARTITION p191 VALUES LESS THAN (48000000) ENGINE=InnoDB,
PARTITION p192 VALUES LESS THAN (48250000) ENGINE=InnoDB,
PARTITION p193 VALUES LESS THAN (48500000) ENGINE=InnoDB,
PARTITION p194 VALUES LESS THAN (48750000) ENGINE=InnoDB,
PARTITION p195 VALUES LESS THAN (49000000) ENGINE=InnoDB,
PARTITION p196 VALUES LESS THAN (49250000) ENGINE=InnoDB,
PARTITION p197 VALUES LESS THAN (49500000) ENGINE=InnoDB,
PARTITION p198 VALUES LESS THAN (49750000) ENGINE=InnoDB,
PARTITION p199 VALUES LESS THAN (50000000) ENGINE=InnoDB,
PARTITION p200 VALUES LESS THAN MAXVALUE ENGINE=InnoDB
);

DROP TABLE IF EXISTS `characters_events_tracking`;
CREATE TABLE IF NOT EXISTS `characters_events_tracking` (
  `lodestone_id` int(32) NOT NULL,
  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `type` varchar(32) NOT NULL,
  `old_value` varchar(128) NOT NULL,
  `new_value` varchar(128) NOT NULL,
  UNIQUE KEY `unique` (`lodestone_id`,`type`,`new_value`,`old_value`),
  KEY `time` (`time`,`type`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `characters_gearsets`;
CREATE TABLE IF NOT EXISTS `characters_gearsets` (
  `lodestone_id` int(32) NOT NULL,
  `last_updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `classjob_id` int(3) NOT NULL,
  `level` int(3) NOT NULL,
  `stats` varchar(5000) NOT NULL,
  `slot_mainhand` int(12) DEFAULT NULL,
  `slot_offhand` int(12) DEFAULT NULL,
  `slot_head` int(12) DEFAULT NULL,
  `slot_body` int(12) DEFAULT NULL,
  `slot_hands` int(12) DEFAULT NULL,
  `slot_waist` int(12) DEFAULT NULL,
  `slot_legs` int(12) DEFAULT NULL,
  `slot_feet` int(12) DEFAULT NULL,
  `slot_necklace` int(12) DEFAULT NULL,
  `slot_earrings` int(12) DEFAULT NULL,
  `slot_bracelets` int(12) DEFAULT NULL,
  `slot_ring1` int(12) DEFAULT NULL,
  `slot_ring2` int(12) DEFAULT NULL,
  `slot_soulcrystal` int(12) DEFAULT NULL,
  UNIQUE KEY `unique` (`lodestone_id`,`classjob_id`,`level`),
  KEY `role` (`classjob_id`,`level`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `freecompanies`;
CREATE TABLE IF NOT EXISTS `freecompanies` (
  `fc_id` varchar(64) NOT NULL,
  `server` varchar(32) NOT NULL,
  `tag` varchar(8) NOT NULL,
  `crest` varchar(1000) NOT NULL,
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `last_updated` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `last_member_scan` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `update_count` int(32) NOT NULL DEFAULT '1',
  UNIQUE KEY `fc_id` (`fc_id`),
  KEY `server` (`server`),
  KEY `tag` (`tag`),
  KEY `added` (`added`),
  KEY `last_member_scan` (`last_member_scan`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `freecompanies_data`;
CREATE TABLE IF NOT EXISTS `freecompanies_data` (
  `fc_id` varchar(64) NOT NULL,
  `data` varchar(15000) NOT NULL,
  `updated` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`fc_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `pending_characters`;
CREATE TABLE IF NOT EXISTS `pending_characters` (
  `lodestone_id` int(32) NOT NULL,
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `processed` timestamp NULL DEFAULT NULL,
  `deleted` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`lodestone_id`),
  KEY `processed` (`processed`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `pending_freecompanies`;
CREATE TABLE IF NOT EXISTS `pending_freecompanies` (
  `fc_id` varchar(64) NOT NULL,
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `processed` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`fc_id`),
  KEY `processed` (`processed`),
  KEY `added` (`added`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `pending_linkshells`;
CREATE TABLE IF NOT EXISTS `pending_linkshells` (
  `ls_id` varchar(64) NOT NULL,
  `added` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `processed` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`ls_id`),
  KEY `processed` (`processed`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
