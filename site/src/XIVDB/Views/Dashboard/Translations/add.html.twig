{% extends 'Dashboard/Default/index.html.twig' %}
{% set pagetitle %}Translations{% endset %}
{% set page = 'translations' %}

{% block body %}
{{ Macros.breadcrumb([
    { title: 'Translations', url: '/translations' },
    { title: 'Add' }
]) }}

<div class="container">

    {% if insertId %}
    <div class="alert alert-warning">
        <h2>Recently Added Translation</h2>

        <div class="form-group row">
            <div class="col-sm-3">
                <input type="text" value="{{ insertId }}" class="form-control">
            </div>
            <div class="col-sm-9">
                <input type="text" value="{% raw %}languages.custom[{% endraw %}{{ insertId }}{% raw %}]{% endraw %}" class="form-control">
            </div>
        </div>

    </div>
    <br><br>
    {% endif %}

    <h1>Add</h1>

    {% if check %}
    <div class="alert alert-default">

        <h3>Previous translation found: {{ check.text_en }}</h3>
        <p>Notes: {{ check.notes }}</p>
        <br>
        <div class="form-group row">
            <div class="col-sm-3">
                <input type="text" value="{{ check.id }}" class="form-control">
            </div>
            <div class="col-sm-9">
                <input type="text" value="{% raw %}languages.custom[{% endraw %}{{ check.id }}{% raw %}]{% endraw %}" class="form-control">
            </div>
        </div>
    </div>
    {% endif %}

    <form method="post">
        <div class="form-group row">
            <label for="text_en" class="col-sm-2 form-control-label">English</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="text_en" name="text_en">
            </div>
        </div>
        <div class="form-group row">
            <label for="text_fr" class="col-sm-2 form-control-label">French</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="text_fr" name="text_fr">
            </div>
        </div>
        <div class="form-group row">
            <label for="text_de" class="col-sm-2 form-control-label">German</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="text_de" name="text_de">
            </div>
        </div>
        <div class="form-group row">
            <label for="text_ja" class="col-sm-2 form-control-label">Japanese</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="text_ja" name="text_ja">
            </div>
        </div>
        <div class="form-group row">
            <label for="text_cns" class="col-sm-2 form-control-label">Chinese</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="text_cns" name="text_cns">
            </div>
        </div>

        <hr>

        <div class="form-group row">
            <label for="define" class="col-sm-2 form-control-label">Define</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="define" name="define">
            </div>
        </div>
        <div class="form-group row">
            <label for="notes" class="col-sm-2 form-control-label">Notes</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="notes" name="notes">
            </div>
        </div>
        <div class="form-group row">
            <label for="category" class="col-sm-2 form-control-label">Category</label>
            <div class="col-sm-5">
                <input type="text" class="form-control" id="category" name="category">
            </div>
            <div class="col-sm-5">
                <select class="c-select translation-select">
                <option>- Quick Category Selector</option>
                {% for row in categories %}
                    <option value="{{ row.category }}">{{ row.category }}</option>
                {% endfor %}
                </select>
            </div>
        </div>

        <hr>

        <button type="submit" class="btn btn-success">Save</button>

    </form>
</div>
<script>
$('.translation-select').on('change', function() {
    var value = $(this).val();
    $('#category').val(value);
})
</script>
{% endblock %}
